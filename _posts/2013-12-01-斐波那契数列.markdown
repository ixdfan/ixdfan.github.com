---
author: UCSHELL
comments: true
date: 2013-12-01 08:49:20+00:00
layout: post
slug: '%e6%96%90%e6%b3%a2%e9%82%a3%e5%a5%91%e6%95%b0%e5%88%97'
title: 斐波那契数列
wordpress_id: 1162
categories:
- 剑指offer
tags:
- 斐波那契
---

斐波那契数列：

题目：

写一个函数，输入n，求斐波那契(Fibonacci)数列的第n项

    
    f(n) = 0		n = 0
    f(n) = 1		n = 1
    f(n) = f(n-1) + f(n-2)	n > 1


递归法有严重的效率缺陷，因为比如计算f(10)；

想要求f(10)就要求f(9)和f(8)，要求f(9)就要先求f(8)和f(7)[![Fibonacci](http://ucshell.com/wp-content/uploads/2013/12/Fibonacci-300x181.png)](http://ucshell.com/wp-content/uploads/2013/12/Fibonacci.png)

我们可以使用树来表示这种依赖关系：

可以看到**树中有很多节点是重复的**，而且**重复的节点数会随着n的增大而极具增加**，这意味着计算量会随着n的增大而极具增大，用**递归方法计算的时间复杂度是以n的指数形式增长的**！

==============================================================================

上面的方法之所以慢是因为重复的计算太多，所以我们只要想办法避免重复计算就可以了！

我们可以将已经计算得到的数列中间项保存起来，如果下次需要计算的时候我们先查找一下，如果前面已经计算过了就不用重复计算了！

最简单的方法是从下往上计算，首先根据f(0)和f(1)算出f(2)，在根据f(1)和f(2)算出f(3)……依次类推就可以算出din项了，所以时间复杂度为O(n)

    
    long long Fibonacci(unsigned n)
    {
    	int result[2] = {0};
    	if(n < 2){
    		return result[n];
    	}
    
    	long long fib_one = 1;
    	long long fib_two = 0;
    	long long fib_sum = 0;
    
    	for(unsigned i = 2; i <= n; i++){
    		fib_sum = fib_one + fib_two;
    		fib_two = fib_one;
    		fin_one = fib_sum;
    	}
    
    	return fib_tmp;
    
    }


##### 相关题目：
一只青蛙一次可以跳1级台阶，也可以跳上2级台阶，求青蛙跳n级台阶有多少种跳法,这是斐波那契数列的典型表现。

==============================================================================

**我们可以使用2*1的小矩形横着或竖着去覆盖更大的矩形，请问8个2*1的小矩形无重叠的覆盖一个2*8的大矩形，共有多少种方法**[![矩形](http://ucshell.com/wp-content/uploads/2013/12/矩形-300x92.png)](http://ucshell.com/wp-content/uploads/2013/12/矩形.png)

==============================================================================

我们将2*8的覆盖方法记为f(8)，用第一个1*2的小矩形去覆盖大矩形的最左边时有两个选择，竖着放或横着放。

当竖着放的时候，右边还剩下2*7的区域，这种情形下覆盖方法记为f(7)；

接下来考虑横着放的情况：

当1*2的小矩形横着放在左上角的时候，左下角必须要放一个1*2的小矩形，而右边还剩下2*6的区域，这种情况下记为f(6)；
所以f(8) = f(7) + f(6);

这就是斐波那契数列！

==============================================================================

一只青蛙一次可以跳1级台阶，也可以跳上2级台阶，也可以跳上3级台阶，……也可以跳上n级台阶,求青蛙跳n级台阶有多少种跳法

这个题目不是斐波那契数列，而是用数学归纳法证明的！最后的结果是f(n) = 2^(n-1)；

还有**细胞分裂**的也是这个结果

==============================================================================

有一对兔子，从出生后第3个月起每个月都生**一对**兔子，小兔子长到第3个月后每个月又生一对兔子，假设所有兔子都不死，文每个月的兔子总数为多少。

这个也是斐波那契数列的问题

==============================================================================

把兔子的对数数写出来的话，会发现如下规律：

	1 1
	2 1
	3 2
	4 3
	5 5

假如从第二个月开始就生下一对新的话，那么就不是斐波那契数列了，结果就变成2^(n-1)

==============================================================================
