---
layout: post
title: WIN32汇编--关于段
categories:
- WIN32ASM
tags:
- WIN32
- 汇编
---

.stack .data .data? .const .code都是分段伪指令

WIN32中实际上只有代码和数据之分   
.data  |   
.data? |都是数据段   
.const |

.code是代码段

与DOS汇编不同，在WIN32编程中不必考虑堆栈，系统会为程序分配一个向下扩展额、足够大的段作为堆栈所以.stack常被忽略.

WIN32环境的内存管理使用的是80386的分页机制，每个页(4K)的属性是自由指定的,这个页存放的是代码，属性石可执行不可写，下个页就可能是即可读又可以写但是不能执行的数据.

所以WIN32中分段的含义实际上是将不同类型的数据或代码归类，在放到不同的内存页

数据段 .data .data? .const   
程序中的数据定义可以归纳成为三类   
1. data 可读可写的已定义变量   
2. data? 可读可写的未定义变量   
3. const 常量

* .data段是已初始化数据段，其定义的数据时可读可写的，在程序装入的时候，这些值就已经在内存中了,.data一般存放在可执行文件的_DATA节区内   
* .data?段可读可写的未定义变量，这些数据也可以定义在.data段中，但是定义在.data?段中不会增大exe文件的大小
