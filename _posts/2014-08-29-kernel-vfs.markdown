---
layout: post
title: VFS文件系统的四个对象
description:  
modified: 
categories: 
- KERNEL
tags:
- 
---

VFS的四个大对象

- 超级块 struct super_block
- 索引节点 struct inode
- 目录项  struct dentry 
- 文件    struct file


#### 超级块
超级块代表一个已经安装的文件系统，存储该文件系统有关的信息，比如文件系统哦你类型，大小状态等。对于基于磁盘的文件系统，该类对象会存放在磁盘的特定扇区，对于非基于磁盘的文件系统(例如内存的文件系统sysfs),他们会现场创建超级块对象并将其保存在内存中

#### 索引节点
索引节点对象代表存储设备上的一个实际的物理文件，存储该文件有关信息，例如访问权限，大小，创建时间等信息，这些信息与文件本身区分存放，这些信息又被称为元数据。

#### 目录项
目录项描述了文件系统的初次结构，一个路径的各个组成部分，无论是目录(VFS将目录当作文件来处理)还是普通文件，都是一个目录项对象。例如，打开文件/home/test/test.c时，内核将为目录/、home、test和文件test.c创建一个目录项对象。

#### 文件
文件对象代表已经被进程打开的文件，主要用于建立进程和文件之间的对应关系。它由open系统调用创建，由close系统调用销毁，且仅当进程访问文件期间存在与内存当中。同一个物理文件可能存在多个对应的文件对象，但是其对应的索引节点对象是唯一的。

VFS对象之间的关系

![007]({{site.img_url}}/2014/007.png)

