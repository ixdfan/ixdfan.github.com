---
layout: post
title: sed常用命令
categories:
- sed
---

sed常用命令

=============================================================================

    
    命令     功能
    a\      在当前行后添加一行或多行
    c\      用新文本替换当前行中的文本
    i\      在当前行前插入文本
    d       删除行
    g       在行内进行全局替换
    p       打印行
    n       读入下一行，并从下一个命令对其进行处理
    r       从文件中读取输入行
    !       对所选行以外的所有行应用命令
    s       用一个字符串替换另一个
    w       将行写入文件
    y       将字符转换为另一字符
    -e      允许多项编辑
    -n      取消缺省的输出
    -f      指定sed脚本文件


a,append 追加

i,insert 插入

d,delete 删除

s,substitution 替换

=============================================================================

sed操作地址：

number 指定输入文件的唯一行号。

**first~step 以first开始，并指定操作步长为step**，如1~2，指定第一行，第三行，第五行... 为操作地址。

sed -n '1~2p' test.txt 打印文件的奇数行。

2~5，则可以指定第二行开始，每5行匹配一次操作地址。

**first,+n 匹配地址1以及后面的n行内容**。

/regexp/ //中间包含的是正则表达式，通过正则表达式匹配操作地址。

##### 注：//空的正则表达式，匹配最近一次正则表达式的匹配地址

\cregexpc 匹配扩展正则表达式，c字符可以使用任意字符替代。

##### 注意:
在替换部分，只有下列字符有特殊含义：
**& 用正则表达式匹配的内容进行替换。**
\ 转义(转义替换部分包含的：&, \等)。

=============================================================================

sed实例

    
    sed -e '3,$d' file	#注释1
    
    sed -e '$d' file	#注释2
    
    sed -n '2,/Brown/p'	#注释3
    
    sed -e 's#\([0-9]\)\([0-9]\)$#\1\2.5#g' num	#注释4
    
    sed 's/[0-9][0-9]$/&.5/g' num	#注释5
    
    sed '2,6y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/' file #注释6
    
    sed '/Brown/a\+++++'	#注释7
    
    sed -n '/Brown/w newfile' file	#注释8


#注释1删除第三行到最后一行

#注释2删除最后一行

#注释3打印从第2行开始到第一次出现Brown的行

#注释4在所有数字的末尾添加.5

#注释5此处使用的就是&来替换前面匹配的数字，所有数字的末尾添加.5

#注释6将file文件中2,6行全部替换为大写字母

注释7在含有Brown行的后面加入"+++++"

#注释8将结果输入到newfile文件

=============================================================================
